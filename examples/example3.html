<html>
<body>

<div id="signup-form">
    <form data-pac-bind="submit: handleSubmit">
        <input data-pac-bind="value: email" type="email" placeholder="Email">
        <span data-pac-bind="visible: emailError" class="error">{{emailError}}</span>

        <input data-pac-bind="value: password" type="password" placeholder="Password (minimum 6 characters)">
        <span data-pac-bind="visible: passwordError" class="error">{{passwordError}}</span>

        <button type="submit" data-pac-bind="enable: isValid">Sign Up</button>
    </form>

    <p><strong>Note:</strong> Client-side validation is for user experience only. All validation must also be performed on the server side for security.</p>
</div>

<script src="../wakapac.js"></script>
<script>
    const signupForm = wakaPAC('#signup-form', {
        email: '',
        password: '',
        emailError: '',
        passwordError: '',

        computed: {
            isValid() {
                const emailValid = this.email.includes('@');
                const passwordValid = this.password.length >= 6;
                return emailValid && passwordValid;
            }
        },

        handleSubmit(event) {
            // Do not bubble event up
            event.preventDefault();

            // Validate
            this.emailError = this.email.includes('@') ? '' : 'Invalid email';
            this.passwordError = this.password.length >= 6 ? '' : 'Password too short';

            if (this.isValid) {
                console.log('Form submitted:', this.toJSON());
            }
        }
    });
</script>
</body>
</html>